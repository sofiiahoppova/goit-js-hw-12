{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getPhotos(request, page) {\n    \n    const response = await axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: '44402114-eddf09e8e038ad1f496236950',\n            q: request,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 15,\n            page: page,\n        }\n    });\n\n    return response.data;\n}\n","export function photoTemplate(image) {\n    return `<li class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-item-image\"></a>\n        <ul class=\"image-info-list\">\n          <li class=\"list-item\">\n            <h3>Likes</h3>\n            <p class=\"likes-js\">${image.likes}</p>\n          </li>\n          <li class=\"list-item\">\n            <h3>Views</h3>\n            <p class=\"views-js\">${image.views}</p>\n          </li>\n          <li class=\"list-item\">\n            <h3>Comments</h3>\n            <p class=\"comments-js\">${image.comments}</p>\n          </li>\n          <li class=\"list-item\">\n            <h3>Downloads</h3>\n            <p class=\"downloads-js\">${image.downloads}</p>\n          </li>\n        </ul>\n    </li>`;\n}\n\nexport function galleryTemplate(array) {\n    return array.map(photo => photoTemplate(photo)).join('');\n}\n\nexport function showElem(elem) {\n    elem.classList.remove('visually-hidden');\n}\n\nexport function hideElem(elem) {\n    elem.classList.add('visually-hidden');\n}","export default \"__VITE_ASSET__3108d0c6__\"","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getPhotos } from \"./js/pixabay-api\";\nimport { galleryTemplate, showElem, hideElem } from \"./js/render-functions\";\nimport imageUrl from \"./img/bi_x-octagon.svg\";\n\nconst messageOptions = {\n    messageColor: 'white',\n    backgroundColor: '#EF4040',\n    iconUrl: imageUrl,\n    maxWidth: '360px',\n    position: 'topRight',\n    theme: 'dark',\n}\n\nconst lightBox = new SimpleLightbox('.gallery a',{\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconst refs = {\n    formElem: document.querySelector('.search-form'),\n    galleryElem: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n    loadBtn: document.querySelector('.load-btn'),\n}\n\nlet page;\nlet userValue;\n\nrefs.formElem.addEventListener('submit', onFormElemSubmit);\n\nasync function onFormElemSubmit(event) {\n    event.preventDefault();\n\n    hideElem(refs.loadBtn);\n    refs.galleryElem.innerHTML = '';\n    \n    userValue = refs.formElem.elements.search.value.trim();\n    if (userValue === '') {\n        return;\n    }\n\n    page = 1;\n    showElem(refs.loader);\n\n    try {\n        const data = await getPhotos(userValue, page);\n        if (data.hits.length == 0){\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please, try again!', ...messageOptions\n            });\n            hideElem(refs.loader);\n            return;\n        }\n        const markup = galleryTemplate(data.hits);\n        refs.galleryElem.innerHTML = markup;\n    } catch (err) { console.log(err) }\n\n    page += 1;\n    lightBox.refresh();\n    hideElem(refs.loader);\n    showElem(refs.loadBtn);\n}\n\nrefs.loadBtn.addEventListener('click', onLoadBtnClick);\n\nasync function onLoadBtnClick() {\n    hideElem(refs.loadBtn);\n    showElem(refs.loader);\n\n    try {\n        const data = await getPhotos(userValue, page);\n        if (data.totalHits / 150 < page) {\n            hideElem(refs.loadBtn);\n            iziToast.show({\n                message: \"We're sorry, but you've reached the end of search results.\", ...messageOptions\n            })\n        }\n        const markup = galleryTemplate(data.hits);\n        refs.galleryElem.insertAdjacentHTML('beforeend', markup);\n    } catch (err) { console.log(err) }\n\n    page += 1;\n    lightBox.refresh();\n    hideElem(refs.loader);\n    showElem(refs.loadBtn);\n}\n"],"names":["getPhotos","request","page","axios","photoTemplate","image","galleryTemplate","array","photo","showElem","elem","hideElem","imageUrl","messageOptions","lightBox","SimpleLightbox","refs","userValue","onFormElemSubmit","event","data","iziToast","markup","err","onLoadBtnClick"],"mappings":"owBAEO,eAAeA,EAAUC,EAASC,EAAM,CAc3C,OAZiB,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACT,CACT,CAAK,GAEe,IACpB,CCjBO,SAASE,EAAcC,EAAO,CACjC,MAAO;AAAA,iBACMA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kCAIvDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAM,SAAS;AAAA;AAAA;AAAA,UAIrD,CAEO,SAASC,EAAgBC,EAAO,CACnC,OAAOA,EAAM,IAAIC,GAASJ,EAAcI,CAAK,CAAC,EAAE,KAAK,EAAE,CAC3D,CAEO,SAASC,EAASC,EAAM,CAC3BA,EAAK,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASC,EAASD,EAAM,CAC3BA,EAAK,UAAU,IAAI,iBAAiB,CACxC,CClCA,MAAeE,EAAA,kDCUTC,EAAiB,CACnB,aAAc,QACd,gBAAiB,UACjB,QAASD,EACT,SAAU,QACV,SAAU,WACV,MAAO,MACX,EAEME,EAAW,IAAIC,EAAe,aAAa,CAC7C,aAAc,MACd,aAAc,GAClB,CAAC,EAEKC,EAAO,CACT,SAAU,SAAS,cAAc,cAAc,EAC/C,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAC/C,EAEA,IAAId,EACAe,EAEJD,EAAK,SAAS,iBAAiB,SAAUE,CAAgB,EAEzD,eAAeA,EAAiBC,EAAO,CAOnC,GANAA,EAAM,eAAc,EAEpBR,EAASK,EAAK,OAAO,EACrBA,EAAK,YAAY,UAAY,GAE7BC,EAAYD,EAAK,SAAS,SAAS,OAAO,MAAM,OAC5CC,IAAc,GAIlB,CAAAf,EAAO,EACPO,EAASO,EAAK,MAAM,EAEpB,GAAI,CACA,MAAMI,EAAO,MAAMpB,EAAUiB,EAAWf,CAAI,EAC5C,GAAIkB,EAAK,KAAK,QAAU,EAAE,CACtBC,EAAS,KAAK,CACV,QAAS,4EAA6E,GAAGR,CACzG,CAAa,EACDF,EAASK,EAAK,MAAM,EACpB,MACH,CACD,MAAMM,EAAShB,EAAgBc,EAAK,IAAI,EACxCJ,EAAK,YAAY,UAAYM,CAChC,OAAQC,EAAK,CAAE,QAAQ,IAAIA,CAAG,CAAG,CAElCrB,GAAQ,EACRY,EAAS,QAAO,EAChBH,EAASK,EAAK,MAAM,EACpBP,EAASO,EAAK,OAAO,EACzB,CAEAA,EAAK,QAAQ,iBAAiB,QAASQ,CAAc,EAErD,eAAeA,GAAiB,CAC5Bb,EAASK,EAAK,OAAO,EACrBP,EAASO,EAAK,MAAM,EAEpB,GAAI,CACA,MAAMI,EAAO,MAAMpB,EAAUiB,EAAWf,CAAI,EACxCkB,EAAK,UAAY,IAAMlB,IACvBS,EAASK,EAAK,OAAO,EACrBK,EAAS,KAAK,CACV,QAAS,6DAA8D,GAAGR,CAC1F,CAAa,GAEL,MAAMS,EAAShB,EAAgBc,EAAK,IAAI,EACxCJ,EAAK,YAAY,mBAAmB,YAAaM,CAAM,CAC1D,OAAQC,EAAK,CAAE,QAAQ,IAAIA,CAAG,CAAG,CAElCrB,GAAQ,EACRY,EAAS,QAAO,EAChBH,EAASK,EAAK,MAAM,EACpBP,EAASO,EAAK,OAAO,CACzB"}